{% extends "header.html" %} 
{% block content %}
<div class="w-1/2 mx-auto mt-5 p-10 border rounded-lg bg-base-300 flex relative">
    <div class="w-full p-4 space-y-8">

        <div class="container mx-auto">
            <h2 class="text-2xl font-semibold mb-4 text-center">Registration</h2>
        </div>

        {# Flash Messages for Errors #}
        <div class="container mx-auto">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <div class="error text-red-500 text-center mb-4" role="alert">
                        {% for message in messages %}
                            <span>{{ message }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}
        </div>

        {# Registration Form #}
        <form class="review-form" method="POST" action="">
            {{ form.csrf_token }}
            
            {# Username Field #}
            <div class="form-group mb-4">
                <label class="block mb-2" for="username">{{ form.username.label }}</label>
                {{ form.username(class="form-content w-full p-2 border rounded") }}
                {% if form.username.errors %}
                    <div class="error text-red-500 mt-2" role="alert">
                        {% for error in form.username.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            {# Email Field #}
            <div class="form-group mb-4">
                <label class="block mb-2" for="email">{{ form.email.label }}</label>
                {{ form.email(class="form-content w-full p-2 border rounded") }}
                {% if form.email.errors %}
                    <div class="error text-red-500 mt-2" role="alert">
                        {% for error in form.email.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            {# Password Field #}
            <div class="form-group mb-4">
                <label class="block mb-2" for="password">{{ form.password.label }}</label>
                {{ form.password(class="form-content w-full p-2 border rounded") }}
                {% if form.password.errors %}
                    <div class="error text-red-500 mt-2" role="alert">
                        {% for error in form.password.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            {# Confirm Password Field #}
            <div class="form-group mb-4">
                <label class="block mb-2" for="confirm_password">{{ form.confirm_password.label }}</label>
                {{ form.confirm_password(class="form-content w-full p-2 border rounded") }}
                {% if form.confirm_password.errors %}
                    <div class="error text-red-500 mt-2" role="alert">
                        {% for error in form.confirm_password.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            {# Submit Button #}
            <div class="text-center">
                {{ form.submit(class="review-button btn btn-primary") }}
            </div>
        </form>

        {# Login Link #}
        <div class="container mx-auto text-center mt-4">
            If you already have an account, <a class="text-blue-400 duration-150 hover:text-blue-200 underline" href="{{ url_for('users.login') }}">login here</a>.
        </div>

    </div>

</div>
{% endblock %}
